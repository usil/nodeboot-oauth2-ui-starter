<h2 mat-dialog-title>Change Password</h2>
<form
  [formGroup]="changePasswordForm"
  (ngSubmit)="changePassword(changePasswordForm.value)"
>
  <div mat-dialog-content>
    <div class="error-display" *ngIf="errorMessage">
      <h5>{{ errorMessage }}</h5>
    </div>
    <mat-form-field appearance="fill" class="forms-field">
      <mat-label>Old Password</mat-label>
      <input
        formControlName="oldPassword"
        name="oldPassword"
        matInput
        [type]="hideOldPassword ? 'password' : 'text'"
        required
      />
      <button
        type="button"
        mat-icon-button
        matSuffix
        (click)="hideOldPassword = !hideOldPassword"
        [attr.aria-label]="'hideOldPassword password'"
        [attr.aria-pressed]="hideOldPassword"
      >
        <mat-icon>{{
          hideOldPassword ? "visibility_off" : "visibility"
        }}</mat-icon>
      </button>
      <mat-hint>Put your current password</mat-hint>
    </mat-form-field>
    <mat-form-field appearance="fill" class="forms-field">
      <mat-label>New Password</mat-label>
      <input
        formControlName="newPassword"
        name="newPassword"
        matInput
        [type]="hideNewPassword ? 'password' : 'text'"
        required
      />
      <button
        type="button"
        mat-icon-button
        matSuffix
        (click)="hideNewPassword = !hideNewPassword"
        [attr.aria-label]="'hideOldPassword password'"
        [attr.aria-pressed]="hideNewPassword"
      >
        <mat-icon>{{
          hideNewPassword ? "visibility_off" : "visibility"
        }}</mat-icon>
      </button>
      <mat-hint>Put your new password</mat-hint>
    </mat-form-field>
  </div>
  <div align="end" mat-dialog-actions>
    <button
      (click)="closeDialog()"
      type="button"
      color="warn"
      mat-stroked-button
      [disabled]="dialogRef.disableClose"
    >
      Cancel</button
    ><button
      [disabled]="!changePasswordForm.valid"
      color="primary"
      mat-flat-button
    >
      Update
    </button>
  </div>
</form>
